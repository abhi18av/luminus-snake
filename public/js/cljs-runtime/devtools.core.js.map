{"version":3,"file":"devtools.core.js","sources":["devtools/core.cljs"],"mappings":"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","names":["devtools.core/set-pref!","pref","val","devtools.core/enable!","devtools.core/get-prefs","var_args","args__4502__auto__","len__4499__auto__","i__4500__auto__","argseq__4503__auto__","cljs.core/IndexedSeq","devtools.core/feature-available?","seq29987","self__4487__auto__","cljs.core/seq","_features","devtools.core/set-prefs!","new-prefs","devtools.context/get-console","G__29922","devtools.core/available?","js/Error","devtools.util/make-lib-info","devtools.prefs/set-prefs!","cljs.core/empty?","features","devtools.formatters/uninstall!","devtools.core/enable-single-feature!","_feature","devtools.util/display-advanced-build-warning-if-needed!","devtools.core/enable-feature!","seq29966","devtools.core/uninstall!","G__29918","cljs.core/Keyword","feature","cljs.core/deref","devtools.util/display-banner-if-needed!","devtools.defaults/feature-groups","G__29925","devtools.util/install-feature!","devtools.core/is-feature-available?","devtools.formatters/install!","devtools.core/disable!","devtools.core.available_QMARK_.cljs$core$IFn$_invoke$arity$1","devtools.prefs/pref","devtools.hints/installed?","devtools.async/installed?","cljs.core/every?","devtools.core/is-feature-installed?","devtools.hints/uninstall!","features-desc","devtools.core/disable-single-feature!","devtools.core/disable-feature!","seq29975","devtools.core.install_BANG_.cljs$core$IFn$_invoke$arity$1","devtools.hints/install!","G__29929","devtools.core/installed?","devtools.hints/available?","devtools.prefs/set-pref!","devtools.util/resolve-features!","devtools.core.installed_QMARK_.cljs$core$IFn$_invoke$arity$1","devtools.async/uninstall!","devtools.util/under-advanced-build?","devtools.formatters/available?","devtools.formatters/installed?","devtools.async/available?","devtools.core/single-feature-available?","devtools.async/install!","G__29936","devtools.core/install!","devtools.core/set-single-feature!","_val","devtools.prefs/get-prefs","devtools.util/print-config-overrides-if-requested!"],"sourcesContent":["(ns devtools.core\n  (:require [devtools.prefs :as prefs]\n            [devtools.hints :as hints]\n            [devtools.defaults :refer [feature-groups]]\n            [devtools.formatters :as formatters]\n            [devtools.async :as async]\n            [devtools.toolbox]                                                                                                ; this auto-requires the toolbox namespace, used by cljs-oops\n            [devtools.context :as context]\n            [devtools.util :refer [display-banner-if-needed! install-feature! resolve-features! make-lib-info\n                                   print-config-overrides-if-requested!\n                                   under-advanced-build? display-advanced-build-warning-if-needed!]]))\n\n; -- public API -------------------------------------------------------------------------------------------------------------\n\n(defn is-feature-available? [feature]\n  (case feature\n    :formatters (formatters/available?)\n    :hints (hints/available?)\n    :async (async/available?)))\n\n(defn available?\n  ([] (available? (prefs/pref :features-to-install)))\n  ([features-desc]\n   (let [features (resolve-features! features-desc @feature-groups)]\n     (if (empty? features)\n       false\n       (every? is-feature-available? features)))))\n\n(defn is-feature-installed? [feature]\n  (case feature\n    :formatters (formatters/installed?)\n    :hints (hints/installed?)\n    :async (async/installed?)))\n\n(defn installed?\n  ([] (installed? (prefs/pref :features-to-install)))\n  ([features-desc]\n   (let [features (resolve-features! features-desc @feature-groups)]\n     (if (empty? features)\n       false\n       (every? is-feature-installed? features)))))\n\n(defn install!\n  ([] (install! (prefs/pref :features-to-install)))\n  ([features-desc]\n   (if (under-advanced-build?)\n     (display-advanced-build-warning-if-needed!)\n     (let [features (resolve-features! features-desc @feature-groups)]\n       (display-banner-if-needed! features @feature-groups)\n       (print-config-overrides-if-requested! \"config overrides prior install:\\n\")\n       (install-feature! :formatters features is-feature-available? formatters/install!)\n       (install-feature! :hints features is-feature-available? hints/install!)\n       (install-feature! :async features is-feature-available? async/install!)))))\n\n(defn uninstall! []\n  (formatters/uninstall!)\n  (hints/uninstall!)\n  (async/uninstall!))\n\n(defn set-prefs! [new-prefs]\n  (prefs/set-prefs! new-prefs))\n\n(defn get-prefs []\n  (prefs/get-prefs))\n\n(defn set-pref! [pref val]\n  (prefs/set-pref! pref val))\n\n; -- deprecated API ---------------------------------------------------------------------------------------------------------\n\n(defn enable! []\n  (.warn (context/get-console) (str \"devtools.core/enable! was removed \"\n                                    \"and has no effect in \" (make-lib-info) \" \"\n                                    \"=> remove the call\")))\n\n(defn disable! []\n  (.warn (context/get-console) (str \"devtools.core/disable! was removed \"\n                                    \"and has no effect in \" (make-lib-info) \" \"\n                                    \"=> remove the call\")))\n\n(defn set-single-feature! [_feature _val]\n  (.warn (context/get-console) (str \"devtools.core/set-single-feature! was removed \"\n                                    \"and has no effect in \" (make-lib-info) \" \"\n                                    \"=> use (devtools.core/install! features) to install custom features\")))\n\n(defn enable-single-feature! [_feature]\n  (.warn (context/get-console) (str \"devtools.core/enable-single-feature! was removed \"\n                                    \"and has no effect in \" (make-lib-info) \" \"\n                                    \"=> use (devtools.core/install! features) to install custom features\")))\n\n(defn disable-single-feature! [_feature]\n  (.warn (context/get-console) (str \"devtools.core/disable-single-feature! was removed \"\n                                    \"and has no effect in \" (make-lib-info) \" \"\n                                    \"=> use (devtools.core/install! features) to install custom features\")))\n\n(defn enable-feature! [& _features]\n  (.warn (context/get-console) (str \"devtools.core/enable-feature! was removed \"\n                                    \"and has no effect in \" (make-lib-info) \" \"\n                                    \"=> use (devtools.core/install! features) to install custom features\")))\n\n(defn disable-feature! [& _features]\n  (.warn (context/get-console) (str \"devtools.core/disable-feature! was removed \"\n                                    \"and has no effect in \" (make-lib-info) \" \"\n                                    \"=> use (devtools.core/install! features) to install custom features\")))\n\n(defn single-feature-available? [_feature]\n  (.warn (context/get-console) (str \"devtools.core/single-feature-available? was removed \"\n                                    \"and has no effect in \" (make-lib-info) \" \"\n                                    \"=> use devtools.core/is-feature-available? instead\")))\n\n(defn feature-available? [& _features]\n  (.warn (context/get-console) (str \"devtools.core/feature-available? was removed \"\n                                    \"and has no effect in \" (make-lib-info) \" \"\n                                    \"=> use devtools.core/is-feature-available? instead\")))\n"]}